{"version":3,"file":"src_pages_Organization_Orglogin_tsx.js","mappings":"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","sources":["webpack://atlp-pulse-fn/./src/pages/Organization/LoginOrganisationMutation.tsx","webpack://atlp-pulse-fn/./src/pages/Organization/Orglogin.tsx"],"sourcesContent":["import { gql } from '@apollo/client';\n\nconst LOGIN_ORGANIZATION_MUTATION = gql`\n  mutation LoginOrg($orgInput: OrgInput) {\n    loginOrg(orgInput: $orgInput) {\n      token\n    }\n  }\n`;\n\nexport default LOGIN_ORGANIZATION_MUTATION;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { useMutation } from '@apollo/client';\nimport { toast } from 'react-toastify';\nimport { useNavigate } from 'react-router';\nimport Button from '../../components/Buttons';\nimport useDocumentTitle from '../../hook/useDocumentTitle';\nimport LOGIN_ORGANIZATION_MUTATION from './LoginOrganisationMutation';\nimport ButtonLoading from '../../components/ButtonLoading';\n\nfunction Orglogin() {\n  useDocumentTitle('Login');\n  const { t } = useTranslation();\n  const [OrgLogin, { loading }] = useMutation(LOGIN_ORGANIZATION_MUTATION);\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    setError,\n  }: any = useForm();\n  const navigate = useNavigate();\n\n  const onSubmit = async (orgInput: any) => {\n    /* istanbul ignore next */\n    await OrgLogin({\n      /* istanbul ignore next */\n      variables: { orgInput },\n      /* istanbul ignore next */\n      onCompleted({ loginOrg }) {\n        /* istanbul ignore next */\n        localStorage.setItem('orgToken', loginOrg.token);\n        /* istanbul ignore next */\n        localStorage.setItem('orgName', orgInput.name);\n        toast.success('Welcome! Sign in to Continue');\n        navigate('/users/login');\n      },\n      onError() {\n        /* istanbul ignore next */\n        setError('name', {\n          message: t('Incorrect Organisation Name'),\n        });\n      },\n    });\n  };\n\n  return (\n    <div className=\"grow bg-neutral-100 dark:bg-dark-frame-bg flex flex-col justify-center font-sans\">\n      <div className=\"max-w-lg w-full mx-auto my-28 bg-white dark:bg-dark-bg p-14 md:shadow-xl sm:shadow-none md:rounded-xl sm:rounded-none\">\n        <div className=\"text-center  text-black-600 text-2xl font-bold dark:text-dark-text-fill \">\n          {t('Sign in to your Organization')}\n        </div>\n        <div className=\"text-md  text-black-600 mt-2 text-center font-semibold dark:text-dark-text-fill sm:text-xs\">\n          {t('Enter your organizationâ€™s Dev-Pulse URL')}\n        </div>\n        <form\n          action=\"#none\"\n          className=\"space-y-6 mt-4\"\n          onSubmit={handleSubmit(onSubmit)}\n        >\n          <div>\n            <input\n              type=\"text\"\n              data-testid=\"orgName\"\n              {...register('name', {\n                required: 'Organisation name is required',\n              })}\n              placeholder={t('your-organization.devpulse.co')}\n              className=\"w-full p-2 border border-primary rounded mt-1 dark:bg-dark-bg\"\n            />\n          </div>\n          <div className=\"-mt-6\">\n            {errors.name && (\n              <small className=\"text-red-600\">{errors.name.message}</small>\n            )}\n          </div>\n          <div>\n            {loading ? (\n              <ButtonLoading style=\"rounded-full inline-block\" />\n            ) : (\n              <Button\n                type=\"submit\"\n                variant=\"primary\"\n                data-testid=\"loginForm\"\n                size=\"lg\"\n                style=\"w-full ml-0 hover:bg-cyan-700 text-sm\"\n              >\n                {' '}\n                {t('Continue')}\n              </Button>\n            )}\n          </div>\n          <div className=\"w-full text-sm  text-light-text dark:text-dark-text-fill\">\n            {t('Looking to register an organization instead?')}\n            <Link to=\"/signup/org\">\n              <a href=\"#link\" className=\"text-primary\">\n                {t('Register a new organization')}\n              </a>\n            </Link>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default Orglogin;\n"],"names":[],"sourceRoot":""}